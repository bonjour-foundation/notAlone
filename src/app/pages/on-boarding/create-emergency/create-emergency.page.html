<ion-header>
    <ion-toolbar color="background">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>

        <ion-title></ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

    <ng-container *ngIf="(circle$ | async) as circle; else circleNotLoaded;">
        <main>
            <div class="ion-text-center">
                <ion-icon src="assets/img/button/key.svg"></ion-icon>
            </div>

            <h2 class="ion-text-center ion-padding ion-no-margin">{{ 'CREATE_EMERGENCY.TITLE' | translate }}</h2>

            <app-edit-emergency [circle]="circle" (saved)="navigate()"></app-edit-emergency>

            <div class="ion-padding-start ion-padding-end ion-text-center">
                <ion-button shape="round" size="large" type="submit" color="light" (click)="navigate()">
                    <ion-label>{{ 'CREATE_EMERGENCY.INVITE_LATER' | translate }}</ion-label>
                </ion-button>
            </div>
        </main>
    </ng-container>

    <ng-template #circleNotLoaded>
        <main>
            <ion-spinner color="primary"></ion-spinner>
        </main>
    </ng-template>

</ion-content>
